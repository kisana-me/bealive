<% provide(:title, "アイコンを設定") %>

<h1>アイコンを設定</h1>

<%= link_to "画像を追加", new_image_path, class: "pages-link-button" %>
<br />
<br />
<%= form_with(model: @current_account, url: settings_account_path, method: :patch, data: { turbo: false }) do |form| %>
  <%= render "shared/error_messages", instead: @current_account %>

  <div class="image-shelf">
    <% @images.each do |image| %>
      <%= form.radio_button :icon_aid, image.aid, checked: (@current_account.icon_id == image.id), hidden: true %>
      <%= form.label :icon_aid, for: "account_icon_aid_#{image.aid}", class: "custom-image-label" do %>
        <%= image.name %>
        <%= image_tag(image.image_url(variant_type: "icons")) %>
      <% end %>
    <% end %>
    <%= form.radio_button :icon_aid, "00000", checked: (@current_account.icon_id.blank?), hidden: true %>
    <%= form.label :icon_aid, "アイコン無し", for: "account_icon_aid_#{"00000"}", class: "custom-image-label" %>
  </div>
  <br />
  <div>
    <%= form.submit "更新", class: "custom-button" %>
  </div>
<% end %>